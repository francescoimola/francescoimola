---
pagination:
  data: collections.blogCategories
  size: 1
  alias: category
permalink: "/blog/{{ category | slugify }}/"
layout: _base.njk
eleventyExcludeFromCollections: true
eleventyComputed:
  title: "Blog â†’ {{ category }}"
  description: "Everything I've written about {{ category }}"
---

{# NOTE: This markup is duplicated in blog.njk and category-pages.njk #}

<div class="cap-width">
  <div class="tags-filter">
    <a href="/blog/">All</a>
    {%- for tag in collections.blogCategories -%}
    <a href="/blog/{{ tag | slugify }}/" {% if tag==category %} class="current" {% endif %}>{{ tag }}</a>
    {%- endfor -%}
  </div>
</div>

<ul class=" pad-top-lg pad-btt-md no-list-style">
  {%- for post in collections.blog | filterByCategory(category) | reverse -%}
  <li role="article" class="pad-btt-md blog-post-preview">
      {% if post.data.image %}
      <a href="{{ post.url | url }}" class="blog-post-preview__image"><img src="{{ post.data.image }}" width="320" height="160"
          {% if post.data.imageAlt %}alt="{{ post.data.imageAlt }}" {% else %}alt="" {% endif %} loading="lazy"
          decoding="async" /></a>
      {% endif %}
      <div class="blog-post-preview__content cap-width">
        <div class="blog-post-preview__header">
          <h2><a href="{{ post.url | url }}">{{ post.data.title }}</a></h2>
          <small>{{ post.date | readableDate }}</small>
        </div>
        {% if post.data.teaser %}
        <p class="blog-post-preview__teaser">{{ post.data.teaser }}</p>{% endif %}
      </div>
  </li>
  {%- endfor -%}
</ul>